<h1>React Components</h1>

<p>This page provides demonstrations of the React components available in Archelon.</p>

<%= form_with do %>
  <h2>PlainLiteral</h2>

  <div class="form-group">
    <%= react_component("PlainLiteral", {paramPrefix: 'plain_literal', name: 'title', value: "Lorem ipsum", language: "en"}) %>
  </div>

  <h2>TypedLiteral</h2>

  <div>Hover the mouse over the textbox to display a tooltip with the datatype.</div>

  <div class="form-group">
    <%= react_component("TypedLiteral", {paramPrefix: 'typed_literal', name: 'title', value: "2020-06-23", datatype: "http://id.loc.gov/datatypes/edtf"}) %>
  </div>

  <h2>Repeatable</h2>

  <h3>RepeatablePlainLiteral</h3>

  <div>The following example is limited to 5 entries:</div>

  <div class="form-group">
    <%= react_component(
          "RepeatablePlainLiteral", {
            maxValues: 5,
            paramPrefix: "repeatable_plain_literal",
            name: 'title',
            values: [
              {value: 'First Line', language: 'en'},
              {value: '二行目', language: 'ja'},
              {value: 'Third Line', language: 'en'}]
          }
        )
    %>
  </div>

  <h3>RepeatableTypedLiteral</h3>

  <div>The following example has unlimited entries:</div>

  <div class="form-group">
    <%= react_component(
          "RepeatableTypedLiteral", {
            paramPrefix: "repeatable_typed_literal",
            defaultValue: { value: '', datatype: 'http://id.loc.gov/datatypes/edtf' },
            name: 'title',
            values: [
              {value: '2020-06-23', datatype: 'http://id.loc.gov/datatypes/edtf'},
              {value: '1856-03-06', datatype: 'http://www.w3.org/2001/XMLSchema#date'}
            ]
          }
        )
    %>
  </div>

  <h3>ControlledURIRef</h3>

  <div>This component presents a dropdown using the values defined in the
  <%= link_to 'controlled vocabularies', vocabularies_url %>.</div>

  <% Vocabulary.all.each do |vocab| %>
    <div><%= vocab.identifier %></div>
    <div class="form-group">
      <%=
        react_component(
            "ControlledURIRef", {
            paramPrefix: 'controlled_value',
            name: vocab.identifier,
            vocab: vocab.as_hash,
            value: vocab.terms[0].uri
        }
        )
      %>
    </div>
  <% end %>

  <h3>RepeatableControlledURIRef</h3>

  <% Vocabulary.all.each do |vocab| %>
    <div><%= vocab.identifier %> (repeated)</div>
    <div class="form-group">
      <%=
        react_component(
            "RepeatableControlledURIRef", {
            paramPrefix: 'repeated_controlled_value',
            name: vocab.identifier,
            vocab: vocab.as_hash,
            values: [
                { value: vocab.terms[0].uri }
            ],
            defaultValue: { value: '' }
        }
        )
      %>
    </div>
  <% end %>

  <div class="form-group">
    <input type="submit" name="submit" value="Submit" class="btn btn-primary form-control" />
  </div>
<% end %>

