<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="882px" preserveAspectRatio="none" style="width:1061px;height:882px;" version="1.1" viewBox="0 0 1061 882" width="1061px" zoomAndPan="magnify"><defs><filter height="300%" id="f1n2n12wov6yoj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="none" height="80.6641" style="stroke:none;stroke-width:1.0;" width="554" x="246.5" y="30"/><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="316" x="365.5" y="64.0039">Archelon ↔ Plastron</text><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacing" textLength="544" x="251.5" y="99.3359">Asynchonous Job Information Flow</text><!--MD5=[b43c839d679e6d3f637e8b5f23558f21]
cluster Archelon--><rect fill="#FFFFFF" filter="url(#f1n2n12wov6yoj)" height="272" style="stroke:#000000;stroke-width:2.0;" width="500" x="72" y="148.6641"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:2.0;" width="15" x="552" y="153.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="550" y="155.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="550" y="159.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112" x="266" y="175.1992">Archelon Server</text><!--MD5=[65e3219312eb1a7692d0e6fa16488754]
cluster ImportJobsController--><rect fill="#FFFFFF" filter="url(#f1n2n12wov6yoj)" height="104" style="stroke:#000000;stroke-width:2.0;" width="269" x="279" y="292.6641"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:2.0;" width="15" x="528" y="297.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="526" y="299.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="526" y="303.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154" x="336.5" y="319.1992">ImportJobsController</text><!--MD5=[b9df54cb45ed13a3e7a7d277194d2165]
cluster DelayedJob--><rect fill="#FFFFFF" filter="url(#f1n2n12wov6yoj)" height="120" style="stroke:#000000;stroke-width:2.0;" width="457" x="7" y="469.6641"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:2.0;" width="15" x="444" y="474.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="442" y="476.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="442" y="480.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83" x="194" y="496.1992">«Rake Task»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137" x="167" y="512.6875">DelayedJob Worker</text><!--MD5=[09db9010e9b525ea290d243f4733312f]
cluster ActiveMQ--><rect fill="#FFFFFF" filter="url(#f1n2n12wov6yoj)" height="94" style="stroke:#000000;stroke-width:2.0;" width="692" x="247" y="638.6641"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:2.0;" width="15" x="919" y="643.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="917" y="645.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="917" y="649.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="558.5" y="665.1992">ActiveMQ</text><!--MD5=[8fadbd7c64846ffac60eab321f8f7662]
cluster Plastron--><rect fill="#FFFFFF" filter="url(#f1n2n12wov6yoj)" height="87" style="stroke:#000000;stroke-width:2.0;" width="806" x="241" y="781.6641"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:2.0;" width="15" x="1027" y="786.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="1025" y="788.6641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="1025" y="792.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="124" x="582" y="808.1992">Plastron Daemon</text><!--MD5=[10198e2629b6313c1d76e84a1db79a99]
cluster STOMP Listener--><rect fill="#FFFFFF" filter="url(#f1n2n12wov6yoj)" height="103" style="stroke:#000000;stroke-width:2.0;" width="150" x="499" y="478.1641"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:2.0;" width="15" x="629" y="483.1641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="627" y="485.1641"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:2.0;" width="4" x="627" y="489.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83" x="532.5" y="504.6992">«Rake Task»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="115" x="516.5" y="521.1875">STOMP Listener</text><!--MD5=[503c0394b7036ed7ac9eff6f7228d3a0]
entity ImportJobsForm--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="46.4883" style="stroke:#A80036;stroke-width:1.0;" width="151" x="165.5" y="183.6641"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.0;" width="15" x="296.5" y="188.6641"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.0;" width="4" x="294.5" y="190.6641"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.0;" width="4" x="294.5" y="194.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="180.5" y="217.1992">ImportJobsForm</text><!--MD5=[718cc0a6594951d0dc92895b40371488]
entity ImportJobsChannel--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="46.4883" style="stroke:#A80036;stroke-width:1.0;" width="172" x="88" y="331.1641"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.0;" width="15" x="240" y="336.1641"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.0;" width="4" x="238" y="338.1641"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.0;" width="4" x="238" y="342.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="103" y="364.6992">ImportJobsChannel</text><!--MD5=[6b4bfa9e00b0b9cc08101d1a1ff13128]
entity import--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="52.9766" style="stroke:#A80036;stroke-width:1.0;" width="86" x="295" y="327.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="305" y="351.1992">«Method»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="315" y="367.6875">import</text><!--MD5=[9e97d9e268855f24f7b91ac4b763d89b]
entity status_update--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="52.9766" style="stroke:#A80036;stroke-width:1.0;" width="116" x="416" y="327.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="441" y="351.1992">«Method»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="426" y="367.6875">status_update</text><!--MD5=[da4d4a8108722a970f30b3c859e8b3b4]
entity SendStompMessageJob--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="52.9766" style="stroke:#A80036;stroke-width:1.0;" width="179" x="268.5" y="520.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77" x="319.5" y="544.1992">«ActiveJob»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="278.5" y="560.6875">SendStompMessageJob</text><!--MD5=[252f3efd17a3e813c1ab700db061f6bd]
entity ImportJobStatusUpdatedJob--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="52.9766" style="stroke:#A80036;stroke-width:1.0;" width="210" x="23" y="520.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="77" x="89.5" y="544.1992">«ActiveJob»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="33" y="560.6875">ImportJobStatusUpdatedJob</text><!--MD5=[5a189b71c0586509f28b6ca9e13a06ed]
entity Jobs--><path d="M268.5,682.1641 L425.5,682.1641 C430.5,682.1641 430.5,695.4082 430.5,695.4082 C430.5,695.4082 430.5,708.6523 425.5,708.6523 L268.5,708.6523 C263.5,708.6523 263.5,695.4082 263.5,695.4082 C263.5,695.4082 263.5,682.1641 268.5,682.1641 " fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" style="stroke:#A80036;stroke-width:2.0;"/><path d="M425.5,682.1641 C420.5,682.1641 420.5,695.4082 420.5,695.4082 C420.5,708.6523 425.5,708.6523 425.5,708.6523 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="268.5" y="700.6992">/queue/plastron.jobs</text><!--MD5=[6491cf2ceb511d6a362289d571a0238c]
entity JobProgress--><path d="M471,673.6641 L677,673.6641 C682,673.6641 682,695.1523 682,695.1523 C682,695.1523 682,716.6406 677,716.6406 L471,716.6406 C466,716.6406 466,695.1523 466,695.1523 C466,695.1523 466,673.6641 471,673.6641 " fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" style="stroke:#A80036;stroke-width:2.0;"/><path d="M677,673.6641 C672,673.6641 672,695.1523 672,695.1523 C672,716.6406 677,716.6406 677,716.6406 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="52" x="543" y="692.1992">«Topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="471" y="708.6875">/topic/plastron.job.progress</text><!--MD5=[0632fdb89f7c3eb6938f60e63cf1a6b8]
entity JobStatus--><path d="M722.5,682.1641 L917.5,682.1641 C922.5,682.1641 922.5,695.4082 922.5,695.4082 C922.5,695.4082 922.5,708.6523 917.5,708.6523 L722.5,708.6523 C717.5,708.6523 717.5,695.4082 717.5,695.4082 C717.5,695.4082 717.5,682.1641 722.5,682.1641 " fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" style="stroke:#A80036;stroke-width:2.0;"/><path d="M917.5,682.1641 C912.5,682.1641 912.5,695.4082 912.5,695.4082 C912.5,708.6523 917.5,708.6523 917.5,708.6523 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="722.5" y="700.6992">/queue/plastron.job.status</text><!--MD5=[25a9ff24b98a719e60c95bd2f0bd484a]
entity CommandListener--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="36.4883" style="stroke:#A80036;stroke-width:1.0;" width="145" x="257.5" y="816.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="267.5" y="840.1992">CommandListener</text><!--MD5=[600b82bed6720f1b90cedc53526b0ef9]
entity MessageProcessor--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="36.4883" style="stroke:#A80036;stroke-width:1.0;" width="146" x="501" y="816.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="511" y="840.1992">MessageProcessor</text><!--MD5=[b8f30ddf73c9e423c8d3f46a7471eabe]
entity AsynchronousResponseHandler--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="36.4883" style="stroke:#A80036;stroke-width:1.0;" width="238" x="793" y="816.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="803" y="840.1992">AsynchronousResponseHandler</text><!--MD5=[ff4933689f098b6ba43a40faf6e183a9]
entity StompListener--><rect fill="#FEFECE" filter="url(#f1n2n12wov6yoj)" height="36.4883" style="stroke:#A80036;stroke-width:1.0;" width="118" x="515" y="529.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="525" y="552.6992">StompListener</text><!--MD5=[ddb1bed6aeacf19dc6de5e7a3a492347]
link ImportJobsForm to import--><path d="M260.69,229.7941 C268.32,238.8041 276.91,249.4641 284,259.6641 C298.1,279.9541 312,304.1441 322.16,322.8341 " fill="none" id="ImportJobsForm-to-import" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="324.67,327.4641,323.9212,317.6437,322.2978,323.0626,316.8789,321.4392,324.67,327.4641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="295" y="273.2324">job id</text><!--MD5=[e9552c632123d406a7a35b9cefde5b02]
link import to SendStompMessageJob--><path d="M340.7,380.9241 C344.35,415.7641 350.85,477.8341 354.76,515.1841 " fill="none" id="import-to-SendStompMessageJob" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="355.31,520.5041,358.3627,511.1402,354.7955,515.5306,350.4051,511.9634,355.31,520.5041" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="349" y="450.2324">job request</text><!--MD5=[3e704d22d5543cb46011864a0af6e345]
link SendStompMessageJob to Jobs--><path d="M356.06,573.9341 C353.82,603.5841 350.22,651.4641 348.3,676.9341 " fill="none" id="SendStompMessageJob-to-Jobs" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="347.92,682.0141,352.5776,673.3361,348.2915,677.0279,344.5997,672.7418,347.92,682.0141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="355" y="619.2324">STOMP message</text><!--MD5=[d9831b5d21d35583ac19501b5601f148]
link Jobs to CommandListener--><path d="M345.49,708.3641 C342.63,731.5041 336.38,782.0741 332.75,811.4041 " fill="none" id="Jobs-to-CommandListener" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="332.11,816.6241,337.1835,808.1825,332.7232,811.6618,329.2439,807.2015,332.11,816.6241" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="342" y="762.2324">command message</text><!--MD5=[2fa6d4ba497543703bfbdd3e567ac934]
reverse link JobProgress to MessageProcessor--><path d="M574,722.0641 C574,749.6841 574,792.6641 574,816.4241 " fill="none" id="JobProgress-backto-MessageProcessor" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="574,716.7541,570,725.7541,574,721.7541,578,725.7541,574,716.7541" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="575" y="762.2324">progress message</text><!--MD5=[42198097aca34c9328025ffb00e9b7ed]
reverse link JobStatus to AsynchronousResponseHandler--><path d="M831.04,712.6641 C848.62,738.9341 882.79,790.0141 900.6,816.6241 " fill="none" id="JobStatus-backto-AsynchronousResponseHandler" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="828.16,708.3641,829.8472,718.0673,830.9434,712.5177,836.493,713.6139,828.16,708.3641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="867" y="762.2324">status message</text><!--MD5=[6c99f47604838c48a1f22b31510b33ff]
link CommandListener to MessageProcessor--><path d="M402.55,834.6641 C431.9,834.6641 465.84,834.6641 495.74,834.6641 " fill="none" id="CommandListener-to-MessageProcessor" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="500.89,834.6641,491.89,830.6641,495.89,834.6641,491.89,838.6641,500.89,834.6641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="420.75" y="828.2324">command</text><!--MD5=[dc2ced01d62a8f92c014fc1b4fcacdf7]
link MessageProcessor to AsynchronousResponseHandler--><path d="M647.34,834.6641 C688.37,834.6641 740.61,834.6641 787.82,834.6641 " fill="none" id="MessageProcessor-to-AsynchronousResponseHandler" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="792.96,834.6641,783.96,830.6641,787.96,834.6641,783.96,838.6641,792.96,834.6641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="665.5" y="828.2324">processing result</text><!--MD5=[4d542e5fa14c0d980e02b2c8b5fe4abe]
reverse link StompListener to JobProgress--><path d="M574,570.5341 C574,598.5741 574,646.2641 574,673.4941 " fill="none" id="StompListener-backto-JobProgress" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="574,565.1941,570,574.1941,574,570.1941,578,574.1941,574,565.1941" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="575" y="619.2324">STOMP message</text><!--MD5=[518dc6daaa770472812c20adf8e567a5]
reverse link StompListener to JobStatus--><path d="M614.12,567.4341 C635.72,578.1341 662.66,592.0241 686,605.6641 C729.32,630.9941 777.97,664.4541 803.04,682.0941 " fill="none" id="StompListener-backto-JobStatus" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="609.59,565.1941,615.8897,572.7646,614.0735,567.4073,619.4309,565.591,609.59,565.1941" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="713" y="619.2324">STOMP message</text><!--MD5=[4c67cba69a9a3ac426d5556523f8eaba]
reverse link status_update to StompListener--><path d="M490,385.7241 C511.25,426.3141 548.08,496.6541 565.01,528.9941 " fill="none" id="status_update-backto-StompListener" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="487.49,380.9241,488.1133,390.7532,489.8058,385.3555,495.2035,387.048,487.49,380.9241" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="525" y="450.2324">job id</text><!--MD5=[1fbbc8b0dfe4250a5baf2a0e0b2aab63]
reverse link ImportJobStatusUpdatedJob to status_update--><path d="M159.27,517.2941 C182.64,497.6741 216.4,473.2641 251,461.6641 C269.77,455.3741 412.59,464.7341 429,453.6641 C453.31,437.2641 464.7,404.2741 469.89,381.0041 " fill="none" id="ImportJobStatusUpdatedJob-backto-status_update" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="155.32,520.6441,164.7738,517.8825,159.1364,517.4137,159.6052,511.7763,155.32,520.6441" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="446" y="450.2324">job</text><!--MD5=[208a195669a5c6bca425233f947a6f93]
reverse link ImportJobsChannel to ImportJobStatusUpdatedJob--><path d="M167.37,382.6741 C158.5,419.5241 142.87,484.4241 134.21,520.3741 " fill="none" id="ImportJobsChannel-backto-ImportJobStatusUpdatedJob" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="168.63,377.4441,162.6532,385.272,167.4713,382.3079,170.4354,387.126,168.63,377.4441" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="155" y="450.2324">job status</text><!--MD5=[20711df1c01cb0e26c848e25aeca221c]
reverse link ImportJobsForm to ImportJobsChannel--><path d="M227.17,234.6741 C223.16,242.6841 218.83,251.4941 215,259.6641 C203.64,283.8941 191.41,312.0741 183.3,331.1041 " fill="none" id="ImportJobsForm-backto-ImportJobsChannel" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="229.62,229.8141,222.0014,236.0556,227.3725,234.2805,229.1476,239.6516,229.62,229.8141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="216" y="273.2324">job status</text><!--MD5=[e8b255b3215ec13c825e743353e5aecf]
@startuml
<style>
Title {
    Margin 30
    FontSize 30
}
</style>
title
    Archelon ↔ Plastron
    Asynchonous Job Information Flow
end title

component "Archelon Server" as Archelon {
    component ImportJobsForm
    component ImportJobsController {
        rectangle import << Method >>
        rectangle status_update << Method >>
    }
    component ImportJobsChannel
}
component "DelayedJob Worker" as DelayedJob << Rake Task >> {
    rectangle SendStompMessageJob << ActiveJob >>
    rectangle ImportJobStatusUpdatedJob << ActiveJob >>
}
component ActiveMQ {
    queue "/queue/plastron.jobs" as Jobs
    queue "/topic/plastron.job.progress" as JobProgress << Topic >>
    queue "/queue/plastron.job.status" as JobStatus
}
component "Plastron Daemon" as Plastron {
    rectangle CommandListener
    rectangle MessageProcessor
    rectangle AsynchronousResponseHandler
}
component "STOMP Listener" << Rake Task >> {
    rectangle StompListener
}

ImportJobsForm ..> import : job id
import ..> SendStompMessageJob : job request
SendStompMessageJob ..> Jobs : STOMP message
Jobs ..> CommandListener : command message
JobProgress <.. MessageProcessor : progress message
JobStatus <.. AsynchronousResponseHandler : status message

CommandListener .> MessageProcessor : command
MessageProcessor .> AsynchronousResponseHandler : processing result

StompListener <.. JobProgress : STOMP message
StompListener <.. JobStatus : STOMP message

status_update <.. StompListener : job id
ImportJobStatusUpdatedJob <.. status_update : job

ImportJobsChannel <.. ImportJobStatusUpdatedJob : job status
ImportJobsForm <.. ImportJobsChannel : job status

@enduml

PlantUML version 1.2021.4(Sun Apr 04 04:49:39 EDT 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>