<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="919px" preserveAspectRatio="none" style="width:704px;height:919px;" version="1.1" viewBox="0 0 704 919" width="704px" zoomAndPan="magnify"><defs><filter height="300%" id="fsiii0d76t4no" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="none" height="57.1094" style="stroke:none;stroke-width:1.0;" width="303" x="193.805" y="20"/><text fill="#000000" font-family="sans-serif" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="93" x="298.805" y="44.3359">Archelon</text><text fill="#000000" font-family="sans-serif" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="293" x="198.805" y="67.8906">Import Job State Transitions</text><ellipse cx="284.61" cy="114.1094" fill="#000000" filter="url(#fsiii0d76t4no)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="127" x="221.11" y="201.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="226.11" y="226.4004">validate_pending</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="151" x="238.11" y="318.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="243.11" y="343.4004">validate_in_progress</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="105" x="48.11" y="435.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="53.11" y="460.4004">validate_error</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="122" x="210.61" y="435.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="215.61" y="460.4004">validate_success</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="108" x="425.61" y="435.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="430.61" y="460.4004">validate_failed</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="120" x="211.61" y="552.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="216.61" y="577.4004">import_pending</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="144" x="303.61" y="669.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="308.61" y="694.4004">import_in_progress</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="98" x="98.61" y="786.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="103.61" y="811.4004">import_error</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="139" x="454.11" y="786.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="459.11" y="811.4004">import_incomplete</text><rect fill="#FEFECE" filter="url(#fsiii0d76t4no)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="126" x="292.61" y="786.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="297.61" y="811.4004">import_complete</text><ellipse cx="355.61" cy="897.1094" filter="url(#fsiii0d76t4no)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="356.11" cy="897.6094" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[d1a00a200a44d8c79d5bd41d1bdb7362]
link *start to validate_pending--><path d="M284.61,124.4294 C284.61,140.2294 284.61,172.7594 284.61,195.4894 " fill="none" id="*start-to-validate_pending" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="284.61,200.7494,288.61,191.7494,284.61,195.7494,280.61,191.7494,284.61,200.7494" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="285.61" y="167.6777">start_validation</text><!--MD5=[2d90a27e4e9ab4f49590556a4bfd15e3]
link validate_pending to validate_in_progress--><path d="M280.46,241.2894 C278.34,254.6794 277.07,272.8294 281.61,288.1094 C284.3,297.1494 289.25,306.0694 294.46,313.7794 " fill="none" id="validate_pending-to-validate_in_progress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="297.37,317.9294,295.4676,308.266,294.495,313.8386,288.9224,312.866,297.37,317.9294" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="282.61" y="284.6777">[message received by STOMP queue]</text><!--MD5=[2cbbb8df0598c5a26255a258628e594d]
link validate_pending to validate_error--><path d="M220.88,226.6094 C160.81,234.6294 73.91,256.8294 31.61,318.1094 C6,355.2294 45.03,403.1694 74.01,431.0894 " fill="none" id="validate_pending-to-validate_error" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="77.85,434.7294,74.0744,425.633,74.2229,431.2879,68.568,431.4364,77.85,434.7294" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="32.61" y="343.1777">[STOMP communication error]</text><!--MD5=[432ae293d8f19e7854d6d5dc6b78e627]
link validate_in_progress to validate_success--><path d="M289.95,358.1094 C281.54,366.3394 273.06,376.6994 268.61,388.1094 C263.47,401.3194 263.99,417.1594 265.91,430.0094 " fill="none" id="validate_in_progress-to-validate_success" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="266.73,434.9494,269.187,425.4119,265.9034,430.0182,261.2971,426.7345,266.73,434.9494" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="269.61" y="401.6777">[no invalid fields]</text><!--MD5=[5fb0d498b865ac52126e002af6a9d815]
link validate_in_progress to validate_failed--><path d="M341.4,358.3594 C370.69,378.6494 416.78,410.5794 447.59,431.9194 " fill="none" id="validate_in_progress-to-validate_failed" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="452.02,434.9894,446.8895,426.5823,447.9065,432.147,442.3418,433.164,452.02,434.9894" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="407.61" y="401.6777">[invalid fields]</text><!--MD5=[d9060d63c961e18c668138bb478bb374]
link validate_failed to validate_pending--><path d="M492.24,434.8494 C514.26,398.5994 553.79,319.5094 514.61,271.1094 C494.56,246.3394 413.44,233.5594 353.18,227.3494 " fill="none" id="validate_failed-to-validate_pending" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="348.15,226.8494,356.7045,231.7299,353.1249,227.3497,357.5051,223.7701,348.15,226.8494" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="532.61" y="343.1777">[user resubmits metadata]</text><!--MD5=[eb92fbf716f15af63a46d395d573e840]
link validate_in_progress to validate_error--><path d="M237.74,355.6494 C212.62,363.1794 185.31,373.7194 162.61,388.1094 C145.05,399.2494 129.08,416.5094 117.75,430.5794 " fill="none" id="validate_in_progress-to-validate_error" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="114.38,434.8294,123.0952,430.242,117.4773,430.9042,116.815,425.2863,114.38,434.8294" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="163.61" y="401.6777">[Plastron error]</text><!--MD5=[1d2d7693b208230150ef9f5fa911e0bd]
link validate_success to import_pending--><path d="M271.61,475.3594 C271.61,494.9294 271.61,525.3194 271.61,546.5994 " fill="none" id="validate_success-to-import_pending" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="271.61,551.7994,275.61,542.7994,271.61,546.7994,267.61,542.7994,271.61,551.7994" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="272.61" y="518.6777">start_import</text><!--MD5=[3e6c8d2cfaedb1f2b251fbfbbe49174d]
link import_pending to import_in_progress--><path d="M265.2,592.2694 C261.73,606.3294 259.75,625.3094 268.61,639.1094 C276.13,650.8194 287.23,659.7694 299.47,666.5994 " fill="none" id="import_pending-to-import_in_progress" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="304.02,669.0194,297.9651,661.2516,299.6094,666.6642,294.1968,668.3085,304.02,669.0194" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="269.61" y="635.6777">[message received by STOMP queue]</text><!--MD5=[59f13f80025602655910da04749463d4]
link import_pending to import_error--><path d="M211.61,588.6594 C171.35,602.5694 121.33,627.3594 96.61,669.1094 C74.82,705.9194 104.31,753.6694 126.68,781.6994 " fill="none" id="import_pending-to-import_error" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="129.93,785.6794,127.3591,776.172,126.777,781.7988,121.1502,781.2167,129.93,785.6794" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="97.61" y="694.1777">[STOMP communication error]</text><!--MD5=[adcdf44986a1e99d87fcd704dccedf68]
link import_in_progress to import_incomplete--><path d="M400.39,709.3594 C426.43,729.5894 467.35,761.3894 494.81,782.7294 " fill="none" id="import_in_progress-to-import_incomplete" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="498.76,785.7994,494.1181,777.113,494.8155,782.7267,489.2019,783.4241,498.76,785.7994" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e16c1c3c6afb71dc5d83ea8b63caefff]
link import_in_progress to import_error--><path d="M327.89,709.1294 C307.25,717.7394 282.98,728.3794 261.61,739.1094 C234.6,752.6794 205.09,769.8294 182.86,783.2494 " fill="none" id="import_in_progress-to-import_error" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="178.51,785.8794,188.2794,784.6311,182.7848,783.286,184.13,777.7914,178.51,785.8794" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="262.61" y="752.6777">[Plastron error]</text><!--MD5=[a3a5aa48cac1f55669bc509443ee89ac]
link import_in_progress to import_complete--><path d="M372.27,709.3594 C368.85,729.0094 363.53,759.5694 359.83,780.8694 " fill="none" id="import_in_progress-to-import_complete" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="358.97,785.7994,364.4529,777.6178,359.8267,780.8733,356.5712,776.2471,358.97,785.7994" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6f9527d9b062a4124a0a6d1e829b47f7]
link import_complete to *end--><path d="M355.61,826.4194 C355.61,842.9994 355.61,866.5194 355.61,881.5494 " fill="none" id="import_complete-to-*end" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="355.61,886.6694,359.61,877.6694,355.61,881.6694,351.61,877.6694,355.61,886.6694" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7e6f49a2abae4070bf0e184b420fd3ce]
link import_incomplete to import_pending--><path d="M527.79,785.8894 C534.58,748.9794 543.38,667.8194 501.61,622.1094 C479.78,598.2194 396.78,585.1194 336.74,578.6194 " fill="none" id="import_incomplete-to-import_pending" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="331.74,578.0894,340.2681,583.0159,336.7121,578.6165,341.1115,575.0605,331.74,578.0894" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="534.61" y="694.1777">resume_import</text><!--MD5=[5b635acde8884ff9b5df3a336af54b3f]
@startuml
<style>
Title {
    Margin 20
    FontSize 20
}
</style>
hide empty description
title
    Archelon
    Import Job State Transitions
end title

[*] - -> validate_pending : start_validation

validate_pending - -> validate_in_progress : [message received by STOMP queue]

validate_pending - -> validate_error :[STOMP communication error]

validate_in_progress - -> validate_success : [no invalid fields]

validate_in_progress - -> validate_failed : [invalid fields]

validate_failed - -> validate_pending : [user resubmits metadata]

validate_in_progress - -> validate_error : [Plastron error]

validate_success - -> import_pending : start_import

import_pending - -> import_in_progress : [message received by STOMP queue]

import_pending - -> import_error : [STOMP communication error]

import_in_progress - -> import_incomplete

import_in_progress - -> import_error : [Plastron error]

import_in_progress - -> import_complete

import_complete - -> [*]

import_incomplete - -> import_pending : resume_import

@enduml

PlantUML version 1.2021.4(Sun Apr 04 04:49:39 EDT 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>